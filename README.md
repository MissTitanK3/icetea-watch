# ICE Tea Watch

**ICE Tea Watch** is a multilingual, privacy-first reporting tool that allows users to submit sightings of ICE or law enforcement activity in their area. It’s designed to work offline, prioritize user safety, and feed into a community-powered response system.

## 🚀 Features

- 📍 **GPS-enabled Reporting**  
  Tap the map or use your device's location to report nearby enforcement activity.

- 🛑 **Distance Guard**  
  Users must be within 2km of the report location to prevent false or misused submissions.

- 🌐 **Multilingual Support**  
  English and Spanish support built-in, with the ability to expand to other languages.

- 🧊 **ICE Activity Heatmap**  
  View a visual map of recent community-submitted reports, updated in near-real time.

- 🕵️ **Privacy-Focused**  
  - No user tracking.
  - Location is used temporarily and never stored.
  - No account required.
  - Transparent practices explained in our [Transparency page](/transparency).

- 🔒 **Spam Protection**  
  Users cannot submit reports more than 15km from their location.

- 🗂️ **Custom Tile Layer Selector**  
  Choose from multiple free map baselayers to customize your view.

## 📦 Tech Stack

- **Next.js (App Router)**
- **Tailwind CSS**
- **Leaflet + React-Leaflet**
- **Supabase (DB + Storage)**
- **Custom internationalization (i18n)** with `useTranslations()`

## 📱 How It Works

1. Open the app and allow location access (recommended: **“Allow this time”**).
2. The map centers on your position; tap to place a pin.
3. Submit details about what you saw (agency, uniforms, vehicles, etc.).
4. Your report is validated by location distance and then sent to the backend.
5. Reports are shown publicly (anonymously) on the ICE activity map.

## 🔐 Trust and Privacy

ICE Tea Watch is committed to **anti-surveillance principles**. We only use what’s necessary and never store your device location. For details, check the [Transparency page](/transparency).

You are encouraged to review the source and host your own version if needed.

## 🧪 Development Setup

```bash
git clone https://github.com/your-org/icetea-watch.git
cd icetea-watch
npm install
npm run dev
```

## 🔪 Database Schema

Only one table is required for the ICE Tea Watch reporting system:

```sql
create table public.wizard (
  id bigint generated by default as identity not null,
  timestamp timestamp with time zone not null default now(),
  agency_type text[] null,
  agency_other text null,
  location jsonb null,
  media_url text null,
  officer_moving boolean null,
  officer_direction text null,
  lights_on boolean null,
  sirens_on boolean null,
  submitted_by uuid null,
  constraint wizard_pkey primary key (id),
  constraint wizard_submitted_by_fkey foreign KEY (submitted_by) references dispatch_profiles (id) on delete set null
) TABLESPACE pg_default;
```

## 🧱 Project Structure

```
/app              → App Router pages
/components       → Reusable UI + Wizard
/constants        → i18n and resources
/lib              → Hooks and util logic
/public           → Static assets
/utils           → Supabase and starting of offline queue
```

## 📄 License

MIT © [People’s Rebellion](https://peoplesrebellion.org)

---

🪊 *ICE Tea Watch is part of the ICE Tea Tools ecosystem – tools for decentralized defense and direct response.*
